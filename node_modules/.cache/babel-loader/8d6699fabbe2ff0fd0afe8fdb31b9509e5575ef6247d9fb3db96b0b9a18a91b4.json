{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\veer jabak\\\\Desktop\\\\Project_Management_Tool-master\\\\frontend\\\\src\\\\components\\\\SearchAndSelect.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport projectContext from '../context/project/projectContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchAndSelect = props => {\n  _s();\n  const context = useContext(projectContext);\n  const {\n    users,\n    fetchUsers\n  } = context;\n  const {\n    nameOfArray,\n    buildArray,\n    setBuildArray\n  } = props;\n  const initialSearchInput = \"\";\n  const [searchInput, setSearchInput] = useState(initialSearchInput);\n  const [searchResults, setSearchResults] = useState([]);\n  const handleSearchChange = e => {\n    //console.log(\"HandleOnChange ran\")\n    setSearchInput(e.target.value);\n    if (!e.target.value) return setSearchResults([]);\n    const resultsArray = users.filter(users => !buildArray.includes(users.email) && users.email.includes(e.target.value));\n    //console.log(e.target.value, resultsArray)\n    setSearchResults(resultsArray);\n  };\n  const handleOnClickOnSearch = e => {\n    console.log(\"Button pressed\");\n    if (!buildArray.includes(e.target.value)) setBuildArray(buildArray.concat(e.target.value));\n    setSearchInput(initialSearchInput);\n    setSearchResults([]);\n  };\n  const handleRemoveFromAdmin = e => {\n    setBuildArray(buildArray.filter(it => it !== e.target.value));\n  };\n  useEffect(() => {\n    if (users.length === 0) fetchUsers();\n    // eslint-disable-next-line\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container border border-1 rounded m-3 p-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3 border rounded-1 p-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Search Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter Email here...\",\n            className: \"form-control\",\n            value: searchInput,\n            onChange: handleSearchChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userList shadow\",\n            children: searchResults.map((it, index) => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                style: {\n                  cursor: 'pointer'\n                },\n                className: \"list-group-item list-group-item-action border border-1 rounded p-1 m-1\",\n                value: it.email,\n                onClick: handleOnClickOnSearch,\n                children: it.email\n              }, it.email, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container border rounded-1 p-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: nameOfArray\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), buildArray.length === 0 ? /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: [\"No \", nameOfArray, \" added\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this) : Object.values(buildArray).map((it, index) => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              value: it,\n              className: \"fa-sharp fa-solid fa-user-minus\",\n              onClick: handleRemoveFromAdmin\n            }, it, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge text-bg-dark mx-1\",\n              children: it\n            }, it, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchAndSelect, \"z5GoSnSsUTQEdvUOFkuUpZ7M9zY=\");\n_c = SearchAndSelect;\nexport default SearchAndSelect;\nvar _c;\n$RefreshReg$(_c, \"SearchAndSelect\");","map":{"version":3,"names":["React","useEffect","useState","useContext","projectContext","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchAndSelect","props","_s","context","users","fetchUsers","nameOfArray","buildArray","setBuildArray","initialSearchInput","searchInput","setSearchInput","searchResults","setSearchResults","handleSearchChange","e","target","value","resultsArray","filter","includes","email","handleOnClickOnSearch","console","log","concat","handleRemoveFromAdmin","it","length","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","map","index","style","cursor","onClick","Object","values","_c","$RefreshReg$"],"sources":["C:/Users/veer jabak/Desktop/Project_Management_Tool-master/frontend/src/components/SearchAndSelect.js"],"sourcesContent":["import React, {useEffect, useState, useContext} from 'react'\nimport projectContext from '../context/project/projectContext';\n\nconst SearchAndSelect = (props) => {\n    const context = useContext(projectContext);\n    const {users, fetchUsers} = context;\n\n    const { nameOfArray, buildArray, setBuildArray} = props\n\n    const initialSearchInput = \"\";\n    const [searchInput, setSearchInput] = useState(initialSearchInput)\n    const [searchResults, setSearchResults] = useState([])\n\n\n    const handleSearchChange = (e)=>{\n      //console.log(\"HandleOnChange ran\")\n      setSearchInput(e.target.value)\n      if(!e.target.value) return setSearchResults([]);\n      const resultsArray = users.filter(users => ( !buildArray.includes(users.email) && users.email.includes(e.target.value)))\n      //console.log(e.target.value, resultsArray)\n      setSearchResults(resultsArray);\n    }\n\n    const handleOnClickOnSearch = (e) => {\n      console.log(\"Button pressed\");\n      if(!buildArray.includes(e.target.value)) setBuildArray(buildArray.concat(e.target.value));\n      setSearchInput(initialSearchInput);\n      setSearchResults([]);\n    }\n\n    const handleRemoveFromAdmin = (e) => {\n      setBuildArray(buildArray.filter(it => it!==e.target.value))\n    }\n\n    useEffect(() => {\n        if(users.length === 0) fetchUsers();\n        // eslint-disable-next-line\n    }, [])\n    \n  return (\n    <div>\n        <div className=\"container border border-1 rounded m-3 p-3\">\n        \n        <h6>\n        <div className=\"mb-3 border rounded-1 p-2\">\n          <label className=\"form-label\">Search Email</label>\n          <input type=\"text\" placeholder=\"Enter Email here...\" className=\"form-control\" value={searchInput} onChange={handleSearchChange}/>\n          <div className='userList shadow'>\n            {\n              searchResults.map((it, index)=>{\n                return(\n                  <option key={it.email} style={{cursor:'pointer'}} className=\"list-group-item list-group-item-action border border-1 rounded p-1 m-1\" value={it.email} onClick={handleOnClickOnSearch}>{it.email}</option>\n                )\n              })\n            }\n          </div>\n        </div>\n        </h6>\n\n        <div className=\"container border rounded-1 p-2\">\n          <h5>{nameOfArray}</h5>\n          {\n            buildArray.length===0\n            ?\n            <h6>No {nameOfArray} added</h6>\n            :\n            Object.values(buildArray).map((it, index)=>{\n              return(\n                <>\n                  <br/>\n                  <button key={it} value={it} className=\"fa-sharp fa-solid fa-user-minus\" onClick={handleRemoveFromAdmin}></button>\n                  <span key={it} className=\"badge text-bg-dark mx-1\">{it}</span>\n                </>\n              )\n            })\n          }\n        </div>\n    </div>\n    </div>\n  )\n}\n\nexport default SearchAndSelect"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}